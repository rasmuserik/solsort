function jsonml2react(o){if("string"==typeof o)return o;if(Array.isArray(o)){var react=require("react"),name=o[0],params=(document.createElement(o[0]),o[1]),args=o.slice(2);("object"!=typeof params||params.constructor!==Object)&&(params={},args=o.slice(1)),args=args.map(jsonml2react);for(var k in params){var v=params[k];isSolsortEvent(params[k])&&(params[k]=makeSolsortCallback(v))}return-1!==name.indexOf(":")&&(name=name.split(":"),name=require(name[0])[name[1]]),react.createElement.apply(react,[name,params].concat(args))}throw console.log("err",o,typeof o),"unexpected type of parameter to jsonml2dom - "+o}function isSolsortEvent(o){return o&&"object"==typeof o&&o.solsortEvent&&1===Object.keys(o).length}function makeSolsortCallback(o){return o=o.solsortEvent,e=>{o.stopPropagation&&e.stopPropagation(),o.preventDefault&&e.preventDefault();var result={},extract=o.extract||[];"string"==typeof extract&&(extract=[extract]),extract=extract.map((o=>o.split(".")));for(var i=0;i<extract.length;++i)jsSetIn(result,extract[i],jsGetIn(e,extract[i]));da.emit(o.pid,o.name,result)}}function jsSetIn(o,path,val){if(!path.length)return val;var k=path[0];try{o[k]=o[k]}catch(e){o={}}return o[k]=jsSetIn(o[k],path.slice(1),val),o}function jsGetIn(o,path,defaultValue){try{return 1===path.length?void 0===o[path[0]]?defaultValue:o[path[0]]:jsGetIn(o[path[0]],path.slice(1),defaultValue)}catch(e){return defaultValue}}var solsort=exports,ss=solsort,da=require("direape");da.testSuite("solsort"),Object.assign(ss,da),da.ready((()=>Object.assign(ss,da)));var reun=require("reun");Object.assign(ss,reun);var fri=require("fri");Object.assign(ss,fri),ss.html=(fn=>ss.rerun("ss:html",(()=>ss.setJS(["ui","html"],fn())))),ss.event=((name,opt)=>({solsortEvent:Object.assign({name:name,pid:da.pid},opt)})),ss.isBrowser()&&(require("react/dist/react.js"),require("react-dom/dist/react-dom.js"),ss.rerun("solsort:ui-renderer",(()=>{var rootElem=document.getElementById("solsort-ui");if(rootElem){var html=ss.getJS(["ui","html"]);"string"==typeof html?rootElem.innerHTML=html:Array.isArray(html)&&ss.renderJsonml(html,rootElem)}}))),ss.sleep=(ms=>new Promise((resolve=>setTimeout(resolve,ms||0)))),ss.renderJsonml=((jsonml,elem)=>ss.eval((()=>{var dom=require("react-dom");dom.render(jsonml2react(jsonml),elem)}))),ss.loadStyle=((name,style)=>{var elem=document.getElementById(name);document.getElementById(name)||(elem=document.createElement("style"),elem.id=name,document.head.appendChild(elem));var str="";for(var selector in style){str+=selector+"{";for(var property in style[selector]){var value=style[selector][property];"number"==typeof value&&(value+="px"),str+=property+":"+value+";"}str+="}"}elem.innerHTML=str}),da.isBrowser(),require.main===module&&ss.ready((()=>{ss.runTests("solsort")}));
